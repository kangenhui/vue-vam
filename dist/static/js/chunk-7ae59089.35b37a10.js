(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ae59089"],{"55c0":function(e,t,n){},"7e31":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"photograph"},[e.flag?n("div",[e._v("请耐心等待认证结果")]):n("div",[n("div",{staticClass:"header"},[n("web-cam",{ref:"webcam",attrs:{deviceId:e.deviceId,isFrontCam:e.frontCam,debug:!0,googleKey:e.googleKey},on:{started:e.onStarted,stopped:e.onStopped,error:e.onError,cameras:e.onCameras,"camera-change":e.onCameraChange}}),e.device?n("span",{staticClass:"title font-weight-light"},[e._v(" "+e._s(e.device.label)+" ")]):e._e()],1),n("div",{staticClass:"footer"},[this.isRecord?n("el-button",{attrs:{type:"danger"},on:{click:e.recordOrStop}},[e._v("录 制 结 束 ")]):n("el-button",{attrs:{type:"danger"},on:{click:e.recordOrStop}},[e._v("录 制 开 始 ")])],1)]),n("el-button",{attrs:{type:"danger"},on:{click:e.galleryImg}},[e._v("... ")])],1)},a=[],o=n("c973"),c=n.n(o),i=n("a34a"),s=n.n(i),d=n("c035"),l=n("2ef0"),u={name:"app",components:{WebCam:d["a"]},data:function(){return{img:null,camera:null,deviceId:null,devices:[],frontCam:!0,report:null,googleKey:Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_OCR_GVA,isRecord:!1,flag:!1}},computed:{device:function(){var e=this;return Object(l["find"])(this.devices,(function(t){return t.deviceId==e.deviceId}))}},watch:{camera:function(e){this.deviceId=e},devices:function(){if("undefined"===typeof window.orientation){var e=Object(l["head"])(this.devices);e&&(this.camera=e.deviceId,this.deviceId=e.deviceId)}else this.frontCam=!1}},created:function(){this.$mui.init(),window.plus?(alert("11111"),this.plusReady()):(alert(window.plus),document.addEventListener("plusready",this.plusReady,!1))},methods:{plusReady:function(){plus.webview.currentWebview();alert("hello plus")},galleryImg:function(){var e=this;alert("从相册中选择图片:"),plus.gallery.pick((function(t){alert("进入"),e.createUpload(t)}),(function(e){console.log("取消选择图片")}),{filter:"image"})},sendGVision:function(){var e=this;return c()(s.a.mark((function t(){var n;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.webcam.googleVision();case 2:n=t.sent,console.log(n),e.report=n.labelAnnotations;case 5:case"end":return t.stop()}}),t)})))()},onCapture:function(){var e=this;return c()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.webcam.capture();case 2:e.img=t.sent;case 3:case"end":return t.stop()}}),t)})))()},onStarted:function(e){console.log("On Started Event",e)},onStopped:function(e){console.log("On Stopped Event",e)},onStop:function(){this.$refs.webcam.stop()},onStart:function(){this.$refs.webcam.start()},onError:function(e){console.log("On Error Event",e)},onCameras:function(e){this.devices=e,this.camera=this.devices[0].deviceId},onCameraChange:function(e){this.deviceId=e,this.camera=e,console.log("On Camera Change Event",e)},recordOrStop:function(){var e=this;return c()(s.a.mark((function t(){return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isRecord){t.next=5;break}e.$refs.webcam.stop(),e.flag=!0,t.next=8;break;case 5:return t.next=7,e.$refs.webcam.record();case 7:e.img=t.sent;case 8:e.isRecord=!e.isRecord;case 9:case"end":return t.stop()}}),t)})))()}},filters:{percent:function(e){return e?(Math.floor(1e4*e)/100).toFixed(0)+"%":""}}},f=u,p=(n("9943"),n("2877")),v=Object(p["a"])(f,r,a,!1,null,null,null);t["default"]=v.exports},9943:function(e,t,n){"use strict";n("55c0")}}]);