(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37867dac"],{"1d74":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"publish"},[o("a",{staticStyle:{display:"none"},attrs:{id:"downLoadLink"}}),o("video",{ref:"video",attrs:{playsinline:"true","webkit-playsinline":"true"}}),o("el-button",{attrs:{type:"primary"},on:{click:e.recordOrStop}},[e._v("视频录制")])],1)},r=[],s={data:function(){return{mediaStreamTrack:{},video_stream:"",recordedBlobs:[],isRecord:!1}},mounted:function(){this.getCamera()},methods:{getCamera:function(){var e=this;navigator.mediaDevices.getUserMedia({video:{frameRate:{ideal:10,max:15}}}).then((function(t){e.video_stream=t,e.$refs.video.srcObject=t,e.$refs.video.play()})).catch((function(e){console.log(e)}))},recordOrStop:function(){this.isRecord?this.stop():this.record()},record:function(){var e,t=this;console.log("record"),this.isRecord=!this.isRecord,this.recordedBlobs=[],"function"===typeof MediaRecorder.isTypeSupported?e=new MediaRecorder(this.video_stream,{audioBitsPerSecond:192e3,videoBitsPerSecond:1e7}):(console.log("当前不支持isTypeSupported，使用浏览器的默认编解码器"),e=new MediaRecorder(this.video_stream)),e.start(),e.ondataavailable=function(e){e.data&&e.data.size>0&&t.recordedBlobs.push(e.data)},e.onstop=function(){var e=URL.createObjectURL(t.recordedBlobs[0]),o=document.createElement("a");o.href=e,document.body.appendChild(o),o.download="121.mp4",o.click()}},stop:function(){if(this.isRecord=!this.isRecord,this.$refs.video.srcObject){var e=this.$refs.video.srcObject,t=e.getTracks();t.forEach((function(e){e.stop()}))}}}},c=s,d=(o("fcde"),o("2877")),a=Object(d["a"])(c,i,r,!1,null,"31533370",null);t["default"]=a.exports},"4e33":function(e,t,o){},fcde:function(e,t,o){"use strict";o("4e33")}}]);